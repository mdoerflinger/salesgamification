{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "app-sidebar",
  "type": "registry:ui",
  "title": "App Sidebar",
  "description": "Collapsible app sidebar with nested navigation, badges, user section, and sign-out.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "components/ds/app-sidebar.tsx",
      "type": "registry:ui",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport Link from \"next/link\"\nimport { LayoutDashboard, Users, BarChart3, Settings, ChevronLeft, ChevronRight, ChevronDown, LogOut } from \"lucide-react\"\nimport type { LucideIcon } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { NavaxLogo } from \"./navax-logo\"\n\ninterface SidebarItem {\n  label: string\n  href?: string\n  icon?: LucideIcon\n  children?: { label: string; href: string }[]\n  badge?: string\n}\n\ninterface AppSidebarProps {\n  items?: SidebarItem[]\n  activePath?: string\n  className?: string\n  defaultCollapsed?: boolean\n  user?: { name: string; email: string; avatar?: string }\n}\n\nconst defaultItems: SidebarItem[] = [\n  { label: \"Dashboard\", href: \"#\", icon: LayoutDashboard },\n  {\n    label: \"Customers\",\n    icon: Users,\n    badge: \"12\",\n    children: [\n      { label: \"All Customers\", href: \"#\" },\n      { label: \"Segments\", href: \"#\" },\n      { label: \"Leads\", href: \"#\" },\n    ],\n  },\n  {\n    label: \"Analytics\",\n    icon: BarChart3,\n    children: [\n      { label: \"Overview\", href: \"#\" },\n      { label: \"Reports\", href: \"#\" },\n    ],\n  },\n  { label: \"Settings\", href: \"#\", icon: Settings },\n]\n\nexport function AppSidebar({\n  items = defaultItems,\n  activePath = \"#\",\n  className,\n  defaultCollapsed = false,\n  user = { name: \"Maria Schmidt\", email: \"m.schmidt@navax.com\" },\n}: AppSidebarProps) {\n  const [collapsed, setCollapsed] = React.useState(defaultCollapsed)\n  const [openSections, setOpenSections] = React.useState<string[]>([])\n\n  const toggleSection = (label: string) => {\n    setOpenSections((prev) =>\n      prev.includes(label) ? prev.filter((s) => s !== label) : [...prev, label]\n    )\n  }\n\n  return (\n    <aside\n      className={cn(\n        \"flex h-screen flex-col border-r border-sidebar-border bg-sidebar transition-all duration-300\",\n        collapsed ? \"w-16\" : \"w-64\",\n        className\n      )}\n    >\n      {/* Logo area */}\n      <div className=\"flex h-14 items-center justify-between border-b border-sidebar-border px-3\">\n        {!collapsed && (\n          <Link href=\"/\" className=\"shrink-0\">\n            <NavaxLogo variant=\"brand\" width={100} />\n          </Link>\n        )}\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-8 w-8 shrink-0 text-sidebar-foreground hover:bg-sidebar-accent\"\n          onClick={() => setCollapsed(!collapsed)}\n          aria-label={collapsed ? \"Expand sidebar\" : \"Collapse sidebar\"}\n        >\n          {collapsed ? <ChevronRight className=\"h-4 w-4\" /> : <ChevronLeft className=\"h-4 w-4\" />}\n        </Button>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 overflow-y-auto px-2 py-3\" aria-label=\"Sidebar navigation\">\n        <ul className=\"flex flex-col gap-0.5\">\n          {items.map((item) => {\n            const Icon = item.icon\n            const isOpen = openSections.includes(item.label)\n            const isActive = item.href === activePath\n            const hasChildren = !!item.children\n\n            return (\n              <li key={item.label}>\n                {hasChildren ? (\n                  <>\n                    <button\n                      onClick={() => toggleSection(item.label)}\n                      className={cn(\n                        \"flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-sidebar-foreground transition-colors hover:bg-sidebar-accent\",\n                        collapsed && \"justify-center px-0\"\n                      )}\n                      title={collapsed ? item.label : undefined}\n                    >\n                      {Icon && <Icon className=\"h-4 w-4 shrink-0\" />}\n                      {!collapsed && (\n                        <>\n                          <span className=\"flex-1 text-left\">{item.label}</span>\n                          {item.badge && (\n                            <span className=\"rounded-full bg-primary/10 px-1.5 py-0.5 text-[10px] font-semibold text-primary\">\n                              {item.badge}\n                            </span>\n                          )}\n                          <ChevronDown className={cn(\"h-3.5 w-3.5 shrink-0 transition-transform\", isOpen && \"rotate-180\")} />\n                        </>\n                      )}\n                    </button>\n                    {isOpen && !collapsed && (\n                      <ul className=\"ml-5 flex flex-col gap-0.5 border-l-2 border-sidebar-border pl-3 pt-0.5\">\n                        {item.children!.map((child) => (\n                          <li key={child.label}>\n                            <Link\n                              href={child.href}\n                              className={cn(\n                                \"block rounded-md px-2 py-1.5 text-sm text-sidebar-foreground/70 transition-colors hover:text-sidebar-foreground\",\n                                child.href === activePath && \"bg-sidebar-accent font-medium text-sidebar-primary\"\n                              )}\n                            >\n                              {child.label}\n                            </Link>\n                          </li>\n                        ))}\n                      </ul>\n                    )}\n                  </>\n                ) : (\n                  <Link\n                    href={item.href || \"#\"}\n                    className={cn(\n                      \"flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium text-sidebar-foreground transition-colors hover:bg-sidebar-accent\",\n                      isActive && \"bg-sidebar-accent text-sidebar-primary\",\n                      collapsed && \"justify-center px-0\"\n                    )}\n                    title={collapsed ? item.label : undefined}\n                  >\n                    {Icon && <Icon className=\"h-4 w-4 shrink-0\" />}\n                    {!collapsed && (\n                      <>\n                        <span className=\"flex-1\">{item.label}</span>\n                        {item.badge && (\n                          <span className=\"rounded-full bg-primary/10 px-1.5 py-0.5 text-[10px] font-semibold text-primary\">\n                            {item.badge}\n                          </span>\n                        )}\n                      </>\n                    )}\n                  </Link>\n                )}\n              </li>\n            )\n          })}\n        </ul>\n      </nav>\n\n      {/* User section */}\n      <div className=\"border-t border-sidebar-border p-3\">\n        <div className={cn(\"flex items-center gap-3\", collapsed && \"justify-center\")}>\n          <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-xs font-semibold text-primary-foreground\">\n            {user.name.split(\" \").map((n) => n[0]).join(\"\")}\n          </div>\n          {!collapsed && (\n            <div className=\"flex-1 overflow-hidden\">\n              <p className=\"truncate text-sm font-medium text-sidebar-foreground\">{user.name}</p>\n              <p className=\"truncate text-xs text-sidebar-foreground/60\">{user.email}</p>\n            </div>\n          )}\n          {!collapsed && (\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 shrink-0 text-sidebar-foreground/60 hover:text-sidebar-foreground\" aria-label=\"Sign out\">\n              <LogOut className=\"h-3.5 w-3.5\" />\n            </Button>\n          )}\n        </div>\n      </div>\n    </aside>\n  )\n}\n"
    }
  ]
}